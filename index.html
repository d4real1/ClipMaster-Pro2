<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ClipMaster Pro - Advanced Browser Video Editor</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/@ffmpeg/ffmpeg@0.12.4/dist/ffmpeg.min.js"></script>
    <script src="https://js.stripe.com/v3/"></script>
    <style>
        /* Base styles from original */
        :root {
            --primary: #7e57ff;
            --primary-dark: #6a43f0;
            --secondary: #00e0b0;
            --accent: #ff6b9d;
            --dark: #0c111f;
            --darker: #080b16;
            --light: #f0f5ff;
            --gray: #8a9bba;
            --success: #00e0b0;
            --warning: #ffaa4d;
            --error: #ff6b7d;
            --card-bg: rgba(25, 35, 55, 0.95);
            --card-border: rgba(255, 255, 255, 0.1);
            --transition: all 0.4s cubic-bezier(0.23, 1, 0.32, 1);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', 'SF Pro Display', -apple-system, BlinkMacSystemFont, sans-serif;
        }
        
        body {
            background: radial-gradient(ellipse at top left, #0a0f1f, #050812);
            color: var(--light);
            min-height: 100vh;
            padding: 20px;
            line-height: 1.6;
            overflow-x: hidden;
            position: relative;
            background-attachment: fixed;
        }
        
        body::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(circle at 10% 20%, rgba(126, 87, 255, 0.08), transparent 25%),
                radial-gradient(circle at 90% 80%, rgba(0, 224, 176, 0.08), transparent 25%),
                radial-gradient(circle at 50% 50%, rgba(255, 107, 157, 0.05), transparent 35%);
            z-index: -1;
            pointer-events: none;
        }
        
        .particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            pointer-events: none;
        }
        
        .particle {
            position: absolute;
            border-radius: 50%;
            background: rgba(126, 87, 255, 0.15);
            animation: float 15s infinite linear;
        }
        
        @keyframes float {
            0% { transform: translateY(0) translateX(0) rotate(0deg); opacity: 0; }
            10% { opacity: 1; }
            90% { opacity: 0.7; }
            100% { transform: translateY(-100vh) translateX(100px) rotate(360deg); opacity: 0; }
        }
        
        .container {
            max-width: 1600px;
            margin: 0 auto;
        }
        
        header {
            text-align: center;
            padding: 50px 0 40px;
            margin-bottom: 50px;
            background: var(--card-bg);
            border-radius: 28px;
            box-shadow: 0 15px 50px rgba(0, 0, 0, 0.4);
            backdrop-filter: blur(15px);
            border: 1px solid var(--card-border);
            position: relative;
            overflow: hidden;
            border-top: 1px solid rgba(255, 255, 255, 0.12);
        }
        
        header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 5px;
            background: linear-gradient(90deg, var(--primary), var(--secondary), var(--accent));
        }
        
        .logo {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .logo-icon {
            width: 80px;
            height: 80px;
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            border-radius: 22px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 36px;
            box-shadow: 0 12px 30px rgba(126, 87, 255, 0.5);
            transform: rotate(15deg);
        }
        
        h1 {
            font-size: 4rem;
            margin-bottom: 15px;
            background: linear-gradient(90deg, var(--light), #d0d8ff);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            font-weight: 900;
            letter-spacing: -1.5px;
            line-height: 1;
            text-shadow: 0 5px 15px rgba(126, 87, 255, 0.3);
        }
        
        .subtitle {
            font-size: 1.6rem;
            color: var(--gray);
            max-width: 800px;
            margin: 0 auto 40px;
            font-weight: 300;
            line-height: 1.4;
        }
        
        .badge-container {
            display: flex;
            justify-content: center;
            gap: 25px;
            margin-top: 35px;
            flex-wrap: wrap;
        }
        
        .badge {
            background: rgba(126, 87, 255, 0.18);
            color: #c1b2ff;
            padding: 12px 28px;
            border-radius: 50px;
            font-size: 1.1rem;
            display: flex;
            align-items: center;
            gap: 12px;
            border: 1px solid rgba(126, 87, 255, 0.35);
            backdrop-filter: blur(6px);
            transition: var(--transition);
        }
        
        .badge:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(126, 87, 255, 0.35);
            background: rgba(126, 87, 255, 0.25);
        }
        
        .features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 35px;
            margin-bottom: 60px;
        }
        
        .feature-card {
            background: var(--card-bg);
            border-radius: 24px;
            padding: 40px;
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.3);
            transition: var(--transition);
            display: flex;
            flex-direction: column;
            border: 1px solid var(--card-border);
            height: 100%;
            position: relative;
            overflow: hidden;
            transform: translateY(0);
        }
        
        .feature-card::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 5px;
            background: linear-gradient(90deg, var(--primary), var(--secondary), var(--accent));
            transform: scaleX(0);
            transform-origin: left;
            transition: transform 0.7s ease;
        }
        
        .feature-card:hover {
            transform: translateY(-12px);
            box-shadow: 0 20px 50px rgba(126, 87, 255, 0.35);
            border-color: rgba(126, 87, 255, 0.4);
        }
        
        .feature-card:hover::after {
            transform: scaleX(1);
        }
        
        .feature-card h3 {
            display: flex;
            align-items: center;
            gap: 25px;
            margin-bottom: 30px;
            color: var(--light);
            font-size: 1.7rem;
        }
        
        .feature-card i {
            background: rgba(126, 87, 255, 0.18);
            width: 70px;
            height: 70px;
            border-radius: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.2rem;
            color: var(--primary);
        }
        
        .feature-card p {
            color: var(--gray);
            line-height: 1.8;
            font-size: 1.15rem;
        }
        
        .editor-container {
            background: var(--card-bg);
            border-radius: 28px;
            padding: 45px;
            margin-bottom: 60px;
            box-shadow: 0 15px 50px rgba(0, 0, 0, 0.35);
            border: 1px solid var(--card-border);
        }
        
        .editor-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 45px;
            flex-wrap: wrap;
            gap: 30px;
        }
        
        .editor-header h2 {
            color: var(--light);
            font-size: 2.8rem;
            display: flex;
            align-items: center;
            gap: 25px;
            font-weight: 800;
        }
        
        .editor-body {
            display: grid;
            grid-template-columns: 1.3fr 0.7fr;
            gap: 45px;
        }
        
        @media (max-width: 1200px) {
            .editor-body {
                grid-template-columns: 1fr;
            }
        }
        
        .preview-section {
            background: linear-gradient(to bottom, rgba(18, 25, 45, 0.7), rgba(12, 17, 30, 0.8));
            border-radius: 24px;
            padding: 35px;
            box-shadow: inset 0 0 30px rgba(0, 0, 0, 0.4);
            position: relative;
            overflow: hidden;
        }
        
        .preview-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle at 80% 20%, rgba(126, 87, 255, 0.1), transparent 40%);
            z-index: -1;
        }
        
        .video-container {
            width: 100%;
            background: linear-gradient(135deg, #1a203a, #0d1228);
            border-radius: 20px;
            overflow: hidden;
            margin-bottom: 35px;
            aspect-ratio: 16/9;
            position: relative;
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.6);
            border: 1px solid rgba(255, 255, 255, 0.08);
        }
        
        .video-container video {
            width: 100%;
            height: 100%;
            object-fit: cover;
            background: #000;
            display: block;
        }
        
        .video-placeholder {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100%;
            color: var(--gray);
            text-align: center;
            padding: 40px;
        }
        
        .video-placeholder i {
            font-size: 4.5rem;
            margin-bottom: 30px;
            color: var(--primary);
            opacity: 0.7;
        }
        
        .video-placeholder h3 {
            font-size: 2rem;
            margin-bottom: 20px;
            color: var(--light);
            font-weight: 500;
        }
        
        .timeline-container {
            background: rgba(15, 20, 35, 0.8);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 35px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }
        
        .timeline-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 25px;
            color: var(--gray);
            font-size: 1.2rem;
        }
        
        .timeline {
            height: 90px;
            background: rgba(8, 12, 22, 0.8);
            border-radius: 15px;
            position: relative;
            overflow: hidden;
        }
        
        .timeline-progress {
            position: absolute;
            height: 100%;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            width: 0%;
            opacity: 0.5;
        }
        
        .timeline-handle {
            position: absolute;
            height: 100%;
            width: 6px;
            background: var(--light);
            top: 0;
            cursor: ew-resize;
            box-shadow: 0 0 25px rgba(255, 255, 255, 0.9);
            z-index: 10;
            border-radius: 3px;
        }
        
        .timeline-handle::after {
            content: '';
            position: absolute;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: var(--light);
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            box-shadow: 0 0 20px rgba(255, 255, 255, 0.9);
        }
        
        .controls {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 35px;
            margin-bottom: 35px;
        }
        
        .control-group {
            background: rgba(15, 20, 35, 0.7);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.25);
        }
        
        .control-group h3 {
            margin-bottom: 25px;
            color: var(--secondary);
            font-size: 1.4rem;
            display: flex;
            align-items: center;
            gap: 18px;
        }
        
        .slider-container {
            margin-bottom: 28px;
        }
        
        .slider-container label {
            display: block;
            margin-bottom: 18px;
            color: var(--gray);
            display: flex;
            justify-content: space-between;
            font-size: 1.15rem;
        }
        
        .slider-value {
            color: var(--light);
            font-weight: 600;
            min-width: 60px;
            text-align: right;
        }
        
        input[type="range"] {
            width: 100%;
            height: 14px;
            border-radius: 7px;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            outline: none;
            -webkit-appearance: none;
        }
        
        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 26px;
            height: 26px;
            border-radius: 50%;
            background: var(--light);
            cursor: pointer;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.8);
            border: 2px solid var(--primary);
            transition: var(--transition);
        }
        
        input[type="range"]::-webkit-slider-thumb:hover {
            transform: scale(1.2);
            background: var(--accent);
        }
        
        .btn {
            padding: 18px 36px;
            border: none;
            border-radius: 16px;
            background: linear-gradient(90deg, var(--primary), var(--primary-dark));
            color: white;
            font-weight: 700;
            font-size: 1.15rem;
            cursor: pointer;
            transition: var(--transition);
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 14px;
            box-shadow: 0 8px 25px rgba(126, 87, 255, 0.6);
            position: relative;
            overflow: hidden;
            z-index: 1;
        }
        
        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, var(--primary-dark), var(--primary));
            opacity: 0;
            transition: var(--transition);
            z-index: -1;
        }
        
        .btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 35px rgba(126, 87, 255, 0.8);
        }
        
        .btn:hover::before {
            opacity: 1;
        }
        
        .btn:active {
            transform: translateY(2px);
        }
        
        .btn-secondary {
            background: linear-gradient(90deg, var(--secondary), #00c090);
            box-shadow: 0 8px 25px rgba(0, 224, 176, 0.6);
        }
        
        .btn-secondary::before {
            background: linear-gradient(90deg, #00c090, var(--secondary));
        }
        
        .btn-accent {
            background: linear-gradient(90deg, var(--accent), #ff5a8c);
            box-shadow: 0 8px 25px rgba(255, 107, 157, 0.6);
        }
        
        .btn-accent::before {
            background: linear-gradient(90deg, #ff5a8c, var(--accent));
        }
        
        .btn-large {
            padding: 20px 45px;
            font-size: 1.4rem;
            border-radius: 20px;
        }
        
        .btn-full {
            width: 100%;
            margin-top: 18px;
        }
        
        .file-upload {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 60px;
            border: 4px dashed var(--primary);
            border-radius: 24px;
            background: rgba(15, 20, 35, 0.3);
            cursor: pointer;
            transition: var(--transition);
            margin-bottom: 35px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        
        .file-upload:hover {
            background: rgba(15, 20, 35, 0.5);
            border-color: var(--secondary);
            transform: translateY(-5px);
        }
        
        .file-upload i {
            font-size: 5.5rem;
            margin-bottom: 30px;
            color: var(--primary);
            transition: var(--transition);
        }
        
        .file-upload:hover i {
            color: var(--secondary);
            transform: scale(1.15) rotate(5deg);
        }
        
        .file-upload h3 {
            font-size: 2rem;
            margin-bottom: 20px;
            color: var(--light);
            font-weight: 500;
        }
        
        .file-upload p {
            color: var(--gray);
            font-size: 1.25rem;
            max-width: 550px;
        }
        
        .action-buttons {
            display: flex;
            gap: 25px;
            flex-wrap: wrap;
            margin-top: 30px;
        }
        
        .ai-tools-section {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
        }
        
        .ai-tool {
            background: rgba(15, 20, 35, 0.7);
            border-radius: 22px;
            padding: 35px;
            display: flex;
            flex-direction: column;
            gap: 25px;
            transition: var(--transition);
            border: 1px solid var(--card-border);
            box-shadow: 0 12px 35px rgba(0, 0, 0, 0.25);
            position: relative;
            overflow: hidden;
        }
        
        .ai-tool::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, rgba(126, 87, 255, 0.1), rgba(0, 224, 176, 0.1));
            opacity: 0;
            transition: var(--transition);
            z-index: -1;
        }
        
        .ai-tool:hover {
            transform: translateY(-10px);
            box-shadow: 0 18px 45px rgba(126, 87, 255, 0.3);
            border-color: rgba(126, 87, 255, 0.4);
        }
        
        .ai-tool:hover::before {
            opacity: 1;
        }
        
        .ai-tool-header {
            display: flex;
            align-items: center;
            gap: 25px;
        }
        
        .ai-tool i {
            font-size: 2.4rem;
            color: var(--secondary);
            background: rgba(0, 224, 176, 0.12);
            width: 70px;
            height: 70px;
            border-radius: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .ai-tool h3 {
            color: var(--light);
            font-size: 1.5rem;
        }
        
        .ai-tool p {
            color: var(--gray);
            line-height: 1.8;
            font-size: 1.15rem;
        }
        
        .export-section {
            background: rgba(15, 20, 35, 0.7);
            border-radius: 24px;
            padding: 35px;
            margin-top: 45px;
        }
        
        .export-section h3 {
            color: var(--secondary);
            margin-bottom: 30px;
            font-size: 1.6rem;
            display: flex;
            align-items: center;
            gap: 20px;
        }
        
        .export-settings {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
            gap: 30px;
            margin-bottom: 35px;
        }
        
        .setting-group {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .setting-group label {
            color: var(--gray);
            font-weight: 500;
            font-size: 1.15rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        select, input {
            padding: 18px;
            border-radius: 16px;
            background: rgba(8, 12, 22, 0.8);
            border: 2px solid rgba(126, 87, 255, 0.5);
            color: var(--light);
            font-size: 1.15rem;
            transition: var(--transition);
        }
        
        select:focus, input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 5px rgba(126, 87, 255, 0.3);
        }
        
        .export-btn-container {
            display: flex;
            justify-content: center;
            margin-top: 35px;
        }
        
        .status-indicator {
            display: flex;
            flex-direction: column;
            padding: 30px;
            border-radius: 20px;
            background: rgba(15, 20, 35, 0.8);
            margin-top: 30px;
            font-weight: 500;
            gap: 20px;
            border: 1px solid rgba(126, 87, 255, 0.4);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.25);
        }
        
        .status-header {
            display: flex;
            align-items: center;
            gap: 20px;
            font-size: 1.3rem;
        }
        
        .status-indicator.processing {
            color: var(--warning);
        }
        
        .status-indicator.success {
            color: var(--success);
        }
        
        .status-indicator.error {
            color: var(--error);
        }
        
        .progress-bar {
            height: 12px;
            background: rgba(255, 255, 255, 0.12);
            border-radius: 6px;
            overflow: hidden;
            margin-top: 15px;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            width: 0%;
            transition: width 0.3s ease;
        }
        
        .progress-text {
            font-size: 1.1rem;
            text-align: right;
            color: var(--gray);
        }
        
        footer {
            text-align: center;
            padding: 60px 0 40px;
            color: var(--gray);
            font-size: 1.2rem;
        }
        
        .pulse {
            display: inline-block;
            width: 15px;
            height: 15px;
            border-radius: 50%;
            background: var(--success);
            box-shadow: 0 0 0 0 rgba(0, 224, 176, 0.8);
            animation: pulse 1.5s infinite;
            margin-right: 12px;
        }
        
        @keyframes pulse {
            0% {
                box-shadow: 0 0 0 0 rgba(0, 224, 176, 0.8);
            }
            70% {
                box-shadow: 0 0 0 15px rgba(0, 224, 176, 0);
            }
            100% {
                box-shadow: 0 0 0 0 rgba(0, 224, 176, 0);
            }
        }
        
        .loading-spinner {
            display: inline-block;
            width: 26px;
            height: 26px;
            border: 4px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top-color: var(--light);
            animation: spin 1s ease-in-out infinite;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        .tooltip {
            position: relative;
            display: inline-block;
        }
        
        .tooltip .tooltiptext {
            visibility: hidden;
            width: 200px;
            background-color: rgba(15, 20, 35, 0.95);
            color: var(--light);
            text-align: center;
            border-radius: 12px;
            padding: 12px;
            position: absolute;
            z-index: 1;
            bottom: 125%;
            left: 50%;
            transform: translateX(-50%);
            opacity: 0;
            transition: opacity 0.3s;
            font-size: 0.9rem;
            border: 1px solid rgba(126, 87, 255, 0.4);
            backdrop-filter: blur(10px);
        }
        
        .tooltip:hover .tooltiptext {
            visibility: visible;
            opacity: 1;
        }
        
        /* New Features */
        .ai-voiceover {
            background: rgba(255, 107, 157, 0.1);
            border-radius: 16px;
            padding: 25px;
            margin-top: 25px;
        }
        
        .voiceover-controls {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-top: 15px;
        }
        
        .voice-preview {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 15px;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 12px;
            margin-top: 20px;
        }
        
        .transition-selector {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 15px;
        }
        
        .transition-btn {
            padding: 10px 15px;
            background: rgba(126, 87, 255, 0.2);
            border: 1px solid rgba(126, 87, 255, 0.4);
            border-radius: 10px;
            cursor: pointer;
            transition: var(--transition);
        }
        
        .transition-btn:hover, .transition-btn.active {
            background: var(--primary);
            color: white;
        }
        
        .media-library {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
            gap: 15px;
            margin-top: 20px;
            max-height: 300px;
            overflow-y: auto;
            padding: 10px;
        }
        
        .media-item {
            aspect-ratio: 1/1;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
        }
        
        .media-item i {
            font-size: 2rem;
            color: var(--gray);
        }
        
        /* Payment Modal */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            backdrop-filter: blur(10px);
        }
        
        .modal-content {
            background: var(--card-bg);
            padding: 40px;
            border-radius: 24px;
            max-width: 500px;
            width: 90%;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
            border: 1px solid var(--card-border);
            position: relative;
        }
        
        .close-modal {
            position: absolute;
            top: 20px;
            right: 20px;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--gray);
            transition: var(--transition);
        }
        
        .close-modal:hover {
            color: var(--light);
        }
        
        .modal-title {
            font-size: 2rem;
            margin-bottom: 20px;
            color: var(--light);
            text-align: center;
        }
        
        .modal-text {
            color: var(--gray);
            margin-bottom: 30px;
            line-height: 1.6;
        }
        
        .pricing-option {
            background: rgba(126, 87, 255, 0.1);
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 20px;
            border: 1px solid rgba(126, 87, 255, 0.3);
            cursor: pointer;
            transition: var(--transition);
        }
        
        .pricing-option:hover {
            background: rgba(126, 87, 255, 0.2);
            border-color: var(--primary);
        }
        
        .pricing-option.selected {
            background: rgba(126, 87, 255, 0.3);
            border-color: var(--primary);
            box-shadow: 0 0 0 2px var(--primary);
        }
        
        .pricing-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }
        
        .pricing-title {
            font-size: 1.3rem;
            color: var(--light);
        }
        
        .pricing-price {
            font-size: 1.3rem;
            color: var(--secondary);
            font-weight: 700;
        }
        
        .pricing-desc {
            color: var(--gray);
            font-size: 0.95rem;
        }
        
        /* Usage Meter */
        .usage-meter {
            background: rgba(15, 20, 35, 0.7);
            border-radius: 20px;
            padding: 20px;
            margin-bottom: 30px;
            border: 1px solid rgba(126, 87, 255, 0.3);
        }
        
        .usage-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 15px;
            color: var(--light);
        }
        
        .usage-progress {
            height: 10px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 5px;
            overflow: hidden;
            margin-bottom: 10px;
        }
        
        .usage-progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            width: 0%;
            transition: width 0.3s ease;
        }
        
        .usage-text {
            color: var(--gray);
            font-size: 0.9rem;
            text-align: center;
        }
        
        /* Monetization Sections */
        .pricing-section {
            background: var(--card-bg);
            border-radius: 28px;
            padding: 60px 40px;
            margin: 60px 0;
            text-align: center;
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.3);
        }
        
        .pricing-title {
            font-size: 2.5rem;
            margin-bottom: 20px;
            color: var(--light);
            text-align: center;
        }
        
        .pricing-subtitle {
            font-size: 1.2rem;
            color: var(--gray);
            max-width: 800px;
            margin: 0 auto 60px;
            line-height: 1.6;
        }
        
        .pricing-plans {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 35px;
            margin-bottom: 50px;
        }
        
        .pricing-plan {
            background: rgba(25, 35, 55, 0.8);
            border-radius: 24px;
            padding: 40px 30px;
            position: relative;
            overflow: hidden;
            border: 1px solid rgba(126, 87, 255, 0.3);
            transition: var(--transition);
        }
        
        .pricing-plan:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 50px rgba(126, 87, 255, 0.3);
            border-color: var(--primary);
        }
        
        .pricing-plan.popular {
            border: 2px solid var(--secondary);
            box-shadow: 0 0 30px rgba(0, 224, 176, 0.2);
        }
        
        .popular-badge {
            position: absolute;
            top: 0;
            right: 0;
            background: var(--secondary);
            color: var(--darker);
            padding: 8px 20px;
            font-weight: 700;
            border-radius: 0 24px 0 24px;
            font-size: 0.9rem;
        }
        
        .plan-name {
            font-size: 1.8rem;
            color: var(--light);
            margin-bottom: 15px;
        }
        
        .plan-price {
            font-size: 3rem;
            font-weight: 800;
            margin-bottom: 25px;
            color: var(--secondary);
        }
        
        .plan-price span {
            font-size: 1.2rem;
            color: var(--gray);
            font-weight: normal;
        }
        
        .plan-features {
            list-style: none;
            text-align: left;
            margin-bottom: 40px;
        }
        
        .plan-features li {
            padding: 12px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .plan-features li:last-child {
            border-bottom: none;
        }
        
        .plan-features li i {
            color: var(--secondary);
            font-size: 1.2rem;
        }
        
        .affiliate-section {
            background: linear-gradient(135deg, rgba(126, 87, 255, 0.1), rgba(0, 224, 176, 0.1));
            border-radius: 28px;
            padding: 60px 40px;
            margin: 60px 0;
            text-align: center;
            border: 1px solid rgba(126, 87, 255, 0.3);
        }
        
        .affiliate-title {
            font-size: 2.5rem;
            margin-bottom: 20px;
            color: var(--light);
        }
        
        .affiliate-subtitle {
            font-size: 1.2rem;
            color: var(--gray);
            max-width: 800px;
            margin: 0 auto 60px;
            line-height: 1.6;
        }
        
        .affiliate-benefits {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 35px;
            margin-bottom: 50px;
        }
        
        .benefit-card {
            background: rgba(25, 35, 55, 0.6);
            border-radius: 20px;
            padding: 30px;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 25px;
        }
        
        .benefit-icon {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background: rgba(126, 87, 255, 0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.5rem;
            color: var(--secondary);
        }
        
        .benefit-title {
            font-size: 1.5rem;
            color: var(--light);
        }
        
        .benefit-desc {
            color: var(--gray);
            line-height: 1.6;
        }
        
        /* Responsive adjustments */
        @media (max-width: 992px) {
            h1 {
                font-size: 3.2rem;
            }
            .subtitle {
                font-size: 1.4rem;
            }
            .editor-header h2 {
                font-size: 2.4rem;
            }
            .file-upload {
                padding: 40px;
            }
            .editor-body {
                gap: 35px;
            }
            .pricing-title, .affiliate-title {
                font-size: 2.2rem;
            }
        }
        
        @media (max-width: 768px) {
            h1 {
                font-size: 2.8rem;
            }
            .subtitle {
                font-size: 1.3rem;
            }
            .badge {
                padding: 10px 20px;
                font-size: 1rem;
            }
            .editor-header {
                flex-direction: column;
                align-items: flex-start;
            }
            .action-buttons {
                width: 100%;
            }
            .btn {
                width: 100%;
                justify-content: center;
            }
            .voiceover-controls {
                grid-template-columns: 1fr;
            }
            .pricing-plan {
                padding: 30px 20px;
            }
        }
        
        @media (max-width: 576px) {
            header {
                padding: 30px 0;
            }
            h1 {
                font-size: 2.3rem;
            }
            .subtitle {
                font-size: 1.1rem;
            }
            .feature-card {
                padding: 30px;
            }
            .editor-container {
                padding: 25px;
            }
            .preview-section {
                padding: 25px;
            }
            .file-upload {
                padding: 30px;
            }
            .file-upload h3 {
                font-size: 1.6rem;
            }
            .modal-content {
                padding: 25px;
            }
            .pricing-title, .affiliate-title {
                font-size: 1.8rem;
            }
        }
    </style>
</head>
<body>
    <div class="particles" id="particles"></div>
    
    <div class="container">
        <header>
            <div class="logo">
                <div class="logo-icon">
                    <i class="fas fa-cut"></i>
                </div>
                <h1>ClipMaster Pro</h1>
            </div>
            <p class="subtitle">The ultimate browser-based video editor with AI-powered tools and no watermarks</p>
            <div class="badge-container">
                <div class="badge"><i class="fas fa-shield-alt"></i> Complete Privacy</div>
                <div class="badge"><i class="fas fa-ban"></i> Zero Watermarks</div>
                <div class="badge"><i class="fas fa-bolt"></i> AI-Powered Tools</div>
                <div class="badge"><i class="fas fa-crown"></i> Premium Options</div>
            </div>
        </header>
        
        <!-- Usage Meter -->
        <div class="usage-meter">
            <div class="usage-header">
                <span>Your Free Clips</span>
                <span id="clipsUsed">0</span>/25
            </div>
            <div class="usage-progress">
                <div class="usage-progress-fill" id="usageProgress"></div>
            </div>
            <div class="usage-text" id="usageText">You've used 0 of your 25 free clips</div>
        </div>
        
        <div class="features">
            <div class="feature-card">
                <h3><i class="fas fa-user-lock"></i> Military-Grade Privacy</h3>
                <p>All processing happens locally in your browser using WebAssembly. Your videos never leave your computer, ensuring complete privacy and security.</p>
            </div>
            <div class="feature-card">
                <h3><i class="fas fa-crown"></i> Professional Results</h3>
                <p>Export in up to 8K resolution with no watermarks. Perfect for social media, professional portfolios, and content creation.</p>
            </div>
            <div class="feature-card">
                <h3><i class="fas fa-brain"></i> Advanced AI Tools</h3>
                <p>Our AI analyzes your content to detect highlights, generate captions, suggest edits, and enhance video quality automatically.</p>
            </div>
            <div class="feature-card">
                <h3><i class="fas fa-rocket"></i> Lightning Fast</h3>
                <p>Optimized processing engine handles large videos efficiently. See changes in real-time without lag or performance issues.</p>
            </div>
        </div>
        
        <div class="editor-container">
            <div class="editor-header">
                <h2><i class="fas fa-film"></i> Professional Video Editor</h2>
                <div class="action-buttons">
                    <button id="autoTrimBtn" class="btn btn-secondary"><i class="fas fa-robot"></i> AI Auto-Trim</button>
                    <button id="enhanceBtn" class="btn btn-accent"><i class="fas fa-wand-magic-sparkles"></i> AI Enhance</button>
                    <button id="exportBtn" class="btn"><i class="fas fa-download"></i> Export Clip</button>
                </div>
            </div>
            
            <div class="editor-body">
                <div class="preview-section">
                    <div class="video-container">
                        <div class="video-placeholder" id="videoPlaceholder">
                            <i class="fas fa-cloud-upload-alt"></i>
                            <h3>Upload a Video to Get Started</h3>
                            <p>Supported formats: MP4, MOV, AVI, MKV, WEBM, up to 4GB</p>
                        </div>
                        <video id="videoPreview" controls style="display: none;"></video>
                    </div>
                    
                    <div class="timeline-container">
                        <div class="timeline-header">
                            <span>Clip Timeline</span>
                            <span id="durationDisplay">00:00 / 00:00</span>
                        </div>
                        <div class="timeline">
                            <div class="timeline-progress" id="timelineProgress"></div>
                            <div class="timeline-handle start" id="startHandle"></div>
                            <div class="timeline-handle end" id="endHandle"></div>
                        </div>
                    </div>
                    
                    <div class="controls">
                        <div class="control-group">
                            <h3><i class="fas fa-cut"></i> Trim Controls</h3>
                            <div class="slider-container">
                                <label>
                                    Start Time: 
                                    <span class="slider-value" id="startValue">00:00</span>
                                </label>
                                <input type="range" id="startTime" min="0" max="100" value="0">
                            </div>
                            <div class="slider-container">
                                <label>
                                    End Time: 
                                    <span class="slider-value" id="endValue">00:00</span>
                                </label>
                                <input type="range" id="endTime" min="0" max="100" value="100">
                            </div>
                        </div>
                        
                        <div class="control-group">
                            <h3><i class="fas fa-sliders"></i> Enhancements</h3>
                            <div class="slider-container">
                                <label>
                                    <i class="fas fa-sun"></i> Brightness 
                                    <span class="slider-value" id="brightnessValue">100%</span>
                                </label>
                                <input type="range" id="brightness" min="50" max="150" value="100">
                            </div>
                            <div class="slider-container">
                                <label>
                                    <i class="fas fa-circle-half-stroke"></i> Contrast 
                                    <span class="slider-value" id="contrastValue">100%</span>
                                </label>
                                <input type="range" id="contrast" min="50" max="150" value="100">
                            </div>
                            <div class="slider-container">
                                <label>
                                    <i class="fas fa-volume-high"></i> Volume 
                                    <span class="slider-value" id="volumeValue">100%</span>
                                </label>
                                <input type="range" id="volume" min="0" max="200" value="100">
                            </div>
                        </div>
                    </div>
                    
                    <div class="file-upload" id="uploadArea">
                        <i class="fas fa-cloud-upload-alt"></i>
                        <h3>Drag & Drop Video File</h3>
                        <p>or click to browse (MP4, MOV, AVI, etc.)</p>
                        <input type="file" id="fileInput" accept="video/*" hidden>
                    </div>
                    
                    <div class="status-indicator" id="statusIndicator" style="display: none;">
                        <div class="status-header">
                            <i class="fas fa-sync fa-spin"></i>
                            <span id="statusText">Processing your video...</span>
                        </div>
                        <div class="progress-bar">
                            <div class="progress-fill" id="progressFill"></div>
                        </div>
                        <div class="progress-text" id="progressText">0%</div>
                    </div>
                </div>
                
                <div class="preview-section">
                    <h2 style="color: var(--secondary); margin-bottom: 35px;"><i class="fas fa-robot"></i> AI-Powered Tools</h2>
                    
                    <div class="ai-tools-section">
                        <div class="ai-tool">
                            <div class="ai-tool-header">
                                <i class="fas fa-comment-dots"></i>
                                <h3>Auto-Captions</h3>
                            </div>
                            <p>Generate accurate captions with perfect timing for social media accessibility. Supports multiple languages.</p>
                            <button class="btn btn-full"><i class="fas fa-bolt"></i> Generate Captions</button>
                        </div>
                        
                        <div class="ai-tool">
                            <div class="ai-tool-header">
                                <i class="fas fa-music"></i>
                                <h3>Background Music</h3>
                            </div>
                            <p>Add royalty-free background music that matches your video's mood and pacing. Volume adjustable.</p>
                            <button class="btn btn-full"><i class="fas fa-bolt"></i> Add Music</button>
                        </div>
                        
                        <div class="ai-tool">
                            <div class="ai-tool-header">
                                <i class="fas fa-crop-alt"></i>
                                <h3>Smart Cropping</h3>
                            </div>
                            <p>Automatically crop and reframe your video for different social media platforms with AI detection.</p>
                            <button class="btn btn-full"><i class="fas fa-bolt"></i> Crop Video</button>
                        </div>
                        
                        <div class="ai-tool">
                            <div class="ai-tool-header">
                                <i class="fas fa-lightbulb"></i>
                                <h3>Highlight Detection</h3>
                            </div>
                            <p>AI identifies the most engaging moments in your video based on audio, motion, and visual analysis.</p>
                            <button class="btn btn-full"><i class="fas fa-bolt"></i> Find Highlights</button>
                        </div>
                    </div>
                    
                    <!-- New AI Voiceover Section -->
                    <div class="ai-voiceover">
                        <h3><i class="fas fa-microphone-alt"></i> AI Voiceover</h3>
                        <p>Generate professional voice narration for your videos using our advanced text-to-speech technology.</p>
                        
                        <div class="voiceover-controls">
                            <div class="setting-group">
                                <label><i class="fas fa-globe"></i> Language</label>
                                <select>
                                    <option>English (US)</option>
                                    <option>English (UK)</option>
                                    <option>Spanish</option>
                                    <option>French</option>
                                    <option>German</option>
                                </select>
                            </div>
                            
                            <div class="setting-group">
                                <label><i class="fas fa-user"></i> Voice Style</label>
                                <select>
                                    <option>Professional Male</option>
                                    <option>Professional Female</option>
                                    <option>Casual Male</option>
                                    <option>Casual Female</option>
                                    <option>Narrator</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="setting-group">
                            <label><i class="fas fa-align-left"></i> Script</label>
                            <textarea placeholder="Enter your narration script here..." rows="3" style="width: 100%; padding: 15px; border-radius: 12px; background: rgba(8, 12, 22, 0.8); border: 2px solid rgba(126, 87, 255, 0.5); color: var(--light);"></textarea>
                        </div>
                        
                        <button class="btn btn-full" style="margin-top: 20px;"><i class="fas fa-play-circle"></i> Generate Voiceover</button>
                        
                        <div class="voice-preview">
                            <audio controls style="width: 100%;"></audio>
                        </div>
                    </div>
                    
                    <!-- Transitions Section -->
                    <div style="margin-top: 30px;">
                        <h3><i class="fas fa-exchange-alt"></i> Video Transitions</h3>
                        <p>Add professional transitions between clips for smoother video flow.</p>
                        
                        <div class="transition-selector">
                            <div class="transition-btn active">Fade</div>
                            <div class="transition-btn">Slide</div>
                            <div class="transition-btn">Zoom</div>
                            <div class="transition-btn">Blur</div>
                            <div class="transition-btn">Glitch</div>
                            <div class="transition-btn">Cube</div>
                        </div>
                    </div>
                    
                    <!-- Media Library -->
                    <div style="margin-top: 30px;">
                        <h3><i class="fas fa-photo-video"></i> Media Library</h3>
                        <p>Add stock footage, images, and sound effects to your videos.</p>
                        
                        <div class="media-library">
                            <div class="media-item"><i class="fas fa-mountain"></i></div>
                            <div class="media-item"><i class="fas fa-city"></i></div>
                            <div class="media-item"><i class="fas fa-music"></i></div>
                            <div class="media-item"><i class="fas fa-apple-alt"></i></div>
                            <div class="media-item"><i class="fas fa-car"></i></div>
                            <div class="media-item"><i class="fas fa-dog"></i></div>
                            <div class="media-item"><i class="fas fa-laugh"></i></div>
                            <div class="media-item"><i class="fas fa-thumbs-up"></i></div>
                        </div>
                    </div>
                    
                    <div class="export-section">
                        <h3><i class="fas fa-file-export"></i> Export Settings</h3>
                        
                        <div class="export-settings">
                            <div class="setting-group">
                                <label><i class="fas fa-file-video"></i> Format</label>
                                <select id="formatSelect">
                                    <option>MP4 (Recommended)</option>
                                    <option>GIF</option>
                                    <option>WebM</option>
                                    <option>MOV</option>
                                </select>
                            </div>
                            
                            <div class="setting-group">
                                <label><i class="fas fa-expand"></i> Resolution</label>
                                <select id="resolutionSelect">
                                    <option>Original</option>
                                    <option>8K (Ultra HD)</option>
                                    <option>4K (Ultra HD)</option>
                                    <option>1080p (Full HD)</option>
                                    <option>720p (HD)</option>
                                    <option>480p (SD)</option>
                                </select>
                            </div>
                            
                            <div class="setting-group">
                                <label><i class="fas fa-mobile-screen"></i> Platform</label>
                                <select id="platformSelect">
                                    <option>All Platforms</option>
                                    <option>TikTok (9:16)</option>
                                    <option>YouTube Shorts (9:16)</option>
                                    <option>Instagram Reels (9:16)</option>
                                    <option>Twitter (16:9)</option>
                                    <option>Facebook (1:1)</option>
                                </select>
                            </div>
                            
                            <div class="setting-group">
                                <label><i class="fas fa-gauge-high"></i> Quality</label>
                                <select id="qualitySelect">
                                    <option>Ultra (Best Quality)</option>
                                    <option>High (Recommended)</option>
                                    <option>Medium</option>
                                    <option>Low (Smaller file)</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="export-btn-container">
                            <button id="finalExportBtn" class="btn btn-large"><i class="fas fa-file-export"></i> Export Final Clip</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Monetization: Pricing Section -->
        <section class="pricing-section">
            <h2 class="pricing-title"><i class="fas fa-crown"></i> Premium Plans</h2>
            <p class="pricing-subtitle">Upgrade to unlock unlimited exports, premium AI tools, and exclusive features</p>
            
            <div class="pricing-plans">
                <div class="pricing-plan">
                    <div class="plan-name">Free</div>
                    <div class="plan-price">0<span>/month</span></div>
                    <ul class="plan-features">
                        <li><i class="fas fa-check"></i> 25 clips/month</li>
                        <li><i class="fas fa-check"></i> 720p exports</li>
                        <li><i class="fas fa-check"></i> Basic editing tools</li>
                        <li><i class="fas fa-check"></i> Watermark-free exports</li>
                        <li><i class="fas fa-times"></i> Premium AI tools</li>
                        <li><i class="fas fa-times"></i> 4K/8K exports</li>
                        <li><i class="fas fa-times"></i> Commercial license</li>
                    </ul>
                    <button class="btn" style="opacity: 0.7;" disabled>Current Plan</button>
                </div>
                
                <div class="pricing-plan popular">
                    <div class="popular-badge">MOST POPULAR</div>
                    <div class="plan-name">Pro Creator</div>
                    <div class="plan-price">7.99<span>/month</span></div>
                    <ul class="plan-features">
                        <li><i class="fas fa-check"></i> Unlimited clips</li>
                        <li><i class="fas fa-check"></i> 4K exports</li>
                        <li><i class="fas fa-check"></i> All AI tools</li>
                        <li><i class="fas fa-check"></i> Priority processing</li>
                        <li><i class="fas fa-check"></i> Commercial license</li>
                        <li><i class="fas fa-check"></i> Advanced transitions</li>
                        <li><i class="fas fa-times"></i> Team collaboration</li>
                    </ul>
                    <button id="proPlanBtn" class="btn btn-secondary">Upgrade Now</button>
                </div>
                
                <div class="pricing-plan">
                    <div class="plan-name">Business</div>
                    <div class="plan-price">19.99<span>/month</span></div>
                    <ul class="plan-features">
                        <li><i class="fas fa-check"></i> All Pro features</li>
                        <li><i class="fas fa-check"></i> Team collaboration (up to 5)</li>
                        <li><i class="fas fa-check"></i> Custom branding</li>
                        <li><i class="fas fa-check"></i> Dedicated support</li>
                        <li><i class="fas fa-check"></i> Cloud storage (50GB)</li>
                        <li><i class="fas fa-check"></i> 8K exports</li>
                        <li><i class="fas fa-check"></i> API access</li>
                    </ul>
                    <button id="businessPlanBtn" class="btn">Get Business</button>
                </div>
            </div>
            
            <p style="color: var(--gray); max-width: 800px; margin: 0 auto; font-size: 1.1rem;">
                <i class="fas fa-lock"></i> Secure payments via Stripe. Cancel anytime.
            </p>
        </section>
        
        <!-- Monetization: Affiliate Program -->
        <section class="affiliate-section">
            <h2 class="affiliate-title"><i class="fas fa-handshake"></i> Affiliate Program</h2>
            <p class="affiliate-subtitle">Earn 30% recurring commission on every customer you refer to ClipMaster Pro</p>
            
            <div class="affiliate-benefits">
                <div class="benefit-card">
                    <div class="benefit-icon">
                        <i class="fas fa-percentage"></i>
                    </div>
                    <h3 class="benefit-title">30% Commission</h3>
                    <p class="benefit-desc">Lifetime recurring commissions on every subscription</p>
                </div>
                
                <div class="benefit-card">
                    <div class="benefit-icon">
                        <i class="fas fa-gift"></i>
                    </div>
                    <h3 class="benefit-title">Free Tools</h3>
                    <p class="benefit-desc">Marketing resources, banners, and tracking tools</p>
                </div>
                
                <div class="benefit-card">
                    <div class="benefit-icon">
                        <i class="fas fa-chart-line"></i>
                    </div>
                    <h3 class="benefit-title">Real-time Tracking</h3>
                    <p class="benefit-desc">Monitor your earnings and conversions in real-time</p>
                </div>
            </div>
            
            <button id="affiliateSignup" class="btn btn-large">
                <i class="fas fa-user-plus"></i> Join Affiliate Program
            </button>
        </section>
        
        <footer>
            <p><span class="pulse"></span> All processing happens locally in your browser - your videos never leave your computer</p>
            <p> 2023 ClipMaster Pro - Advanced Browser Video Editor | <a href="#" style="color: var(--secondary); text-decoration: none;">Become an Affiliate</a> | <a href="#" style="color: var(--gray); text-decoration: none;">Terms</a> | <a href="#" style="color: var(--gray); text-decoration: none;">Privacy</a></p>
        </footer>
    </div>

    <!-- Payment Modal -->
    <div class="modal-overlay" id="paymentModal" style="display: none;">
        <div class="modal-content">
            <div class="close-modal" id="closeModal">&times;</div>
            <h2 class="modal-title">Upgrade to Continue</h2>
            <p class="modal-text">You've used all 25 free clips. To continue using ClipMaster Pro, please choose a plan:</p>
            
            <div class="pricing-option" id="payPerUseOption">
                <div class="pricing-header">
                    <div class="pricing-title">Pay Per Use</div>
                    <div class="pricing-price">0.05/clip</div>
                </div>
                <div class="pricing-desc">Pay only for what you use. Each clip costs just 5p.</div>
            </div>
            
            <div class="pricing-option" id="proPlanOption">
                <div class="pricing-header">
                    <div class="pricing-title">Pro Creator</div>
                    <div class="pricing-price">7.99/month</div>
                </div>
                <div class="pricing-desc">Unlimited clips, 4K exports, and all AI tools.</div>
            </div>
            
            <div class="pricing-option" id="businessOption">
                <div class="pricing-header">
                    <div class="pricing-title">Business</div>
                    <div class="pricing-price">19.99/month</div>
                </div>
                <div class="pricing-desc">Team features, custom branding, and priority support.</div>
            </div>
            
            <button id="proceedToPayment" class="btn btn-large" style="width: 100%; margin-top: 20px;">
                <i class="fas fa-credit-card"></i> Proceed to Payment
            </button>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', async function() {
            // Initialize FFmpeg
            const { createFFmpeg, fetchFile } = FFmpeg;
            const ffmpeg = createFFmpeg({ 
                log: true,
                corePath: 'https://unpkg.com/@ffmpeg/core@0.11.0/dist/ffmpeg-core.js'
            });
            
            // Initialize Stripe (test mode)
            const stripe = Stripe('pk_test_51NcZ3XKZ2Z7Z3Q3Z3Q3Z3Q3Z3Q3Z3Q3Z3Q3Z3Q3Z3Q3Z3Q3Z3Q3Z3Q3Z3Q3Z3Q3Z3Q3Z3Q3Z3Q3Z3Q3Z3Q3');
            
            let isFFmpegLoaded = false;
            let currentVideo = {
                file: null,
                name: "",
                duration: 0,
                startTime: 0,
                endTime: 0,
                brightness: 100,
                contrast: 100,
                volume: 100
            };
            
            // Track user's clip usage
            let clipUsage = {
                freeClipsUsed: 0,
                paidClipsUsed: 0,
                totalSpent: 0
            };
            
            // Load usage data from localStorage
            function loadUsageData() {
                const savedUsage = localStorage.getItem('clipmaster_usage');
                if (savedUsage) {
                    clipUsage = JSON.parse(savedUsage);
                }
                updateUsageDisplay();
            }
            
            // Save usage data to localStorage
            function saveUsageData() {
                localStorage.setItem('clipmaster_usage', JSON.stringify(clipUsage));
                updateUsageDisplay();
            }
            
            // Update the usage display
            function updateUsageDisplay() {
                const freeClipsLeft = Math.max(0, 25 - clipUsage.freeClipsUsed);
                const usedPercentage = (clipUsage.freeClipsUsed / 25) * 100;
                
                document.getElementById('clipsUsed').textContent = clipUsage.freeClipsUsed;
                document.getElementById('usageProgress').style.width = `${usedPercentage}%`;
                
                if (freeClipsLeft > 0) {
                    document.getElementById('usageText').textContent = 
                        `You've used ${clipUsage.freeClipsUsed} of your 25 free clips (${freeClipsLeft} remaining)`;
                } else {
                    document.getElementById('usageText').textContent = 
                        `You've used all 25 free clips. Additional clips cost 0.05 each.`;
                }
            }
            
            // Check if user can export (has free clips or has paid)
            function canExport() {
                return clipUsage.freeClipsUsed < 25 || clipUsage.totalSpent > 0;
            }
            
            // Record a clip export
            function recordClipExport() {
                if (clipUsage.freeClipsUsed < 25) {
                    clipUsage.freeClipsUsed++;
                } else {
                    clipUsage.paidClipsUsed++;
                    // In a real implementation, you would charge the user here
                }
                saveUsageData();
            }
            
            // Show payment modal
            function showPaymentModal(plan = null) {
                document.getElementById('paymentModal').style.display = 'flex';
                
                // Select plan if specified
                if (plan) {
                    document.querySelectorAll('.pricing-option').forEach(opt => {
                        opt.classList.remove('selected');
                    });
                    
                    if (plan === 'pro') {
                        document.getElementById('proPlanOption').classList.add('selected');
                    } else if (plan === 'business') {
                        document.getElementById('businessOption').classList.add('selected');
                    }
                }
            }
            
            // Hide payment modal
            function hidePaymentModal() {
                document.getElementById('paymentModal').style.display = 'none';
            }
            
            // Create floating particles
            function createParticles() {
                const particlesContainer = document.getElementById('particles');
                const particleCount = 30;
                
                for (let i = 0; i < particleCount; i++) {
                    const particle = document.createElement('div');
                    particle.classList.add('particle');
                    
                    // Random properties
                    const size = Math.random() * 8 + 2;
                    const posX = Math.random() * 100;
                    const posY = Math.random() * 100 + 100;
                    const animationDuration = Math.random() * 20 + 10;
                    const animationDelay = Math.random() * 5;
                    
                    particle.style.width = `${size}px`;
                    particle.style.height = `${size}px`;
                    particle.style.left = `${posX}%`;
                    particle.style.top = `${posY}%`;
                    particle.style.animationDuration = `${animationDuration}s`;
                    particle.style.animationDelay = `${animationDelay}s`;
                    
                    particlesContainer.appendChild(particle);
                }
            }
            
            createParticles();
            
            // Elements
            const elements = {
                uploadArea: document.getElementById('uploadArea'),
                fileInput: document.getElementById('fileInput'),
                videoPreview: document.getElementById('videoPreview'),
                videoPlaceholder: document.getElementById('videoPlaceholder'),
                statusIndicator: document.getElementById('statusIndicator'),
                statusText: document.getElementById('statusText'),
                progressFill: document.getElementById('progressFill'),
                progressText: document.getElementById('progressText'),
                startSlider: document.getElementById('startTime'),
                endSlider: document.getElementById('endTime'),
                startValue: document.getElementById('startValue'),
                endValue: document.getElementById('endValue'),
                startHandle: document.getElementById('startHandle'),
                endHandle: document.getElementById('endHandle'),
                timelineProgress: document.getElementById('timelineProgress'),
                durationDisplay: document.getElementById('durationDisplay'),
                autoTrimBtn: document.getElementById('autoTrimBtn'),
                enhanceBtn: document.getElementById('enhanceBtn'),
                exportBtn: document.getElementById('exportBtn'),
                finalExportBtn: document.getElementById('finalExportBtn'),
                brightnessSlider: document.getElementById('brightness'),
                brightnessValue: document.getElementById('brightnessValue'),
                contrastSlider: document.getElementById('contrast'),
                contrastValue: document.getElementById('contrastValue'),
                volumeSlider: document.getElementById('volume'),
                volumeValue: document.getElementById('volumeValue'),
                proPlanBtn: document.getElementById('proPlanBtn'),
                businessPlanBtn: document.getElementById('businessPlanBtn'),
                affiliateSignup: document.getElementById('affiliateSignup')
            };
            
            // Initialize payment options
            function initPaymentOptions() {
                document.querySelectorAll('.pricing-option').forEach(option => {
                    option.addEventListener('click', function() {
                        document.querySelectorAll('.pricing-option').forEach(opt => {
                            opt.classList.remove('selected');
                        });
                        this.classList.add('selected');
                    });
                });
                
                document.getElementById('closeModal').addEventListener('click', hidePaymentModal);
                
                document.getElementById('proceedToPayment').addEventListener('click', async function() {
                    const selectedOption = document.querySelector('.pricing-option.selected');
                    if (!selectedOption) {
                        alert('Please select a payment option');
                        return;
                    }
                    
                    const optionId = selectedOption.id;
                    let priceId = '';
                    
                    // These would be your actual Stripe price IDs in production
                    if (optionId === 'payPerUseOption') {
                        priceId = 'price_1NcZ3XKZ2Z7Z3Q3Z3Q3Z3Q3Z'; // 0.05 per clip
                    } else if (optionId === 'proPlanOption') {
                        priceId = 'price_1NcZ3XKZ2Z7Z3Q3Z3Q3Z3Q3Z'; // 7.99/month
                    } else if (optionId === 'businessOption') {
                        priceId = 'price_1NcZ3XKZ2Z7Z3Q3Z3Q3Z3Q3Z'; // 19.99/month
                    }
                    
                    try {
                        // In a real implementation, you would:
                        // 1. Create a checkout session with your server
                        // 2. Redirect to Stripe checkout
                        // For this demo, we'll simulate a successful payment
                        
                        showStatus("Processing payment...", "processing");
                        hidePaymentModal();
                        
                        // Simulate payment processing
                        setTimeout(() => {
                            if (optionId === 'payPerUseOption') {
                                // Add 1 credit (20 clips worth)
                                clipUsage.totalSpent += 1.00;
                            } else if (optionId === 'proPlanOption') {
                                // Add Pro subscription
                                clipUsage.totalSpent += 7.99;
                                localStorage.setItem('clipmaster_plan', 'pro');
                            } else if (optionId === 'businessOption') {
                                // Add Business subscription
                                clipUsage.totalSpent += 19.99;
                                localStorage.setItem('clipmaster_plan', 'business');
                            }
                            
                            saveUsageData();
                            showStatus("Payment successful! Premium features activated.", "success");
                        }, 2000);
                        
                    } catch (error) {
                        console.error("Payment error:", error);
                        showStatus("Payment failed. Please try again.", "error");
                    }
                });
            }
            
            // Load FFmpeg when needed
            async function loadFFmpeg() {
                if (!isFFmpegLoaded) {
                    showStatus("Initializing video processing engine...", "processing");
                    try {
                        await ffmpeg.load();
                        isFFmpegLoaded = true;
                        showStatus("Video engine ready! Start editing", "success");
                        setTimeout(() => {
                            elements.statusIndicator.style.display = 'none';
                        }, 3000);
                    } catch (error) {
                        showStatus("Error loading video engine: " + error.message, "error");
                    }
                }
            }
            
            // File upload handling
            elements.uploadArea.addEventListener('click', () => {
                elements.fileInput.click();
            });
            
            elements.uploadArea.addEventListener('dragover', (e) => {
                e.preventDefault();
                elements.uploadArea.style.borderColor = 'var(--secondary)';
                elements.uploadArea.style.backgroundColor = 'rgba(0, 224, 176, 0.1)';
            });
            
            elements.uploadArea.addEventListener('dragleave', () => {
                elements.uploadArea.style.borderColor = 'var(--primary)';
                elements.uploadArea.style.backgroundColor = 'rgba(15, 20, 35, 0.3)';
            });
            
            elements.uploadArea.addEventListener('drop', (e) => {
                e.preventDefault();
                elements.uploadArea.style.borderColor = 'var(--primary)';
                elements.uploadArea.style.backgroundColor = 'rgba(15, 20, 35, 0.3)';
                
                if (e.dataTransfer.files.length) {
                    handleFile(e.dataTransfer.files[0]);
                }
            });
            
            elements.fileInput.addEventListener('change', (e) => {
                if (elements.fileInput.files.length) {
                    handleFile(elements.fileInput.files[0]);
                }
            });
            
            function handleFile(file) {
                if (!file.type.match('video.*')) {
                    showStatus("Please upload a video file", "error");
                    return;
                }
                
                // Check file size (max 4GB)
                if (file.size > 4 * 1024 * 1024 * 1024) {
                    showStatus("File size exceeds 4GB limit", "error");
                    return;
                }
                
                // Update UI
                const uploadText = elements.uploadArea.querySelector('h3');
                const uploadSubtext = elements.uploadArea.querySelector('p');
                uploadText.textContent = file.name;
                uploadSubtext.textContent = formatFileSize(file.size);
                
                // Create video preview
                const url = URL.createObjectURL(file);
                elements.videoPreview.src = url;
                elements.videoPreview.style.display = 'block';
                elements.videoPlaceholder.style.display = 'none';
                
                // Set video metadata
                elements.videoPreview.onloadedmetadata = function() {
                    currentVideo = {
                        file: file,
                        name: file.name.replace(/\.[^/.]+$/, ""),
                        duration: elements.videoPreview.duration,
                        startTime: 0,
                        endTime: elements.videoPreview.duration,
                        brightness: 100,
                        contrast: 100,
                        volume: 100
                    };
                    
                    // Initialize timeline
                    updateDurationDisplay();
                    updateTrimHandles();
                    
                    // Set volume
                    elements.videoPreview.volume = currentVideo.volume / 100;
                    
                    // Preload FFmpeg
                    loadFFmpeg();
                };
                
                // Store file reference
                currentVideo.file = file;
            }
            
            function formatFileSize(bytes) {
                if (bytes < 1024) return bytes + ' bytes';
                else if (bytes < 1048576) return (bytes / 1024).toFixed(1) + ' KB';
                else if (bytes < 1073741824) return (bytes / 1048576).toFixed(1) + ' MB';
                else return (bytes / 1073741824).toFixed(1) + ' GB';
            }
            
            function formatTime(seconds) {
                const mins = Math.floor(seconds / 60);
                const secs = Math.floor(seconds % 60);
                return `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
            }
            
            function updateDurationDisplay() {
                elements.durationDisplay.textContent = `${formatTime(currentVideo.startTime)} / ${formatTime(currentVideo.duration)}`;
            }
            
            function updateTrimHandles() {
                const startPercent = (currentVideo.startTime / currentVideo.duration) * 100;
                const endPercent = (currentVideo.endTime / currentVideo.duration) * 100;
                
                elements.startHandle.style.left = `${startPercent}%`;
                elements.endHandle.style.left = `${endPercent}%`;
                elements.timelineProgress.style.width = `${endPercent - startPercent}%`;
                elements.timelineProgress.style.left = `${startPercent}%`;
                
                elements.startValue.textContent = formatTime(currentVideo.startTime);
                elements.endValue.textContent = formatTime(currentVideo.endTime);
                
                // Update sliders
                elements.startSlider.value = startPercent;
                elements.endSlider.value = endPercent;
            }
            
            // Slider functionality
            elements.startSlider.addEventListener('input', function() {
                const percent = parseInt(this.value);
                currentVideo.startTime = (percent / 100) * currentVideo.duration;
                updateTrimHandles();
                updateDurationDisplay();
            });
            
            elements.endSlider.addEventListener('input', function() {
                const percent = parseInt(this.value);
                currentVideo.endTime = (percent / 100) * currentVideo.duration;
                updateTrimHandles();
                updateDurationDisplay();
            });
            
            // Enhancement sliders
            elements.brightnessSlider.addEventListener('input', function() {
                const value = parseInt(this.value);
                elements.brightnessValue.textContent = `${value}%`;
                currentVideo.brightness = value;
                updateVideoFilters();
            });
            
            elements.contrastSlider.addEventListener('input', function() {
                const value = parseInt(this.value);
                elements.contrastValue.textContent = `${value}%`;
                currentVideo.contrast = value;
                updateVideoFilters();
            });
            
            elements.volumeSlider.addEventListener('input', function() {
                const value = parseInt(this.value);
                elements.volumeValue.textContent = `${value}%`;
                currentVideo.volume = value;
                elements.videoPreview.volume = value / 100;
            });
            
            function updateVideoFilters() {
                elements.videoPreview.style.filter = `
                    brightness(${currentVideo.brightness/100}) 
                    contrast(${currentVideo.contrast/100})
                `;
            }
            
            // Auto trim with AI simulation
            elements.autoTrimBtn.addEventListener('click', function() {
                if (!currentVideo.file) {
                    showStatus("Please upload a video first", "error");
                    return;
                }
                
                const btn = this;
                btn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Analyzing...';
                btn.disabled = true;
                
                // Simulate AI processing
                setTimeout(() => {
                    // Set trim points (simulate AI finding highlights)
                    currentVideo.startTime = currentVideo.duration * 0.15;
                    currentVideo.endTime = currentVideo.duration * 0.75;
                    
                    // Update UI
                    updateTrimHandles();
                    updateDurationDisplay();
                    
                    btn.innerHTML = '<i class="fas fa-robot"></i> AI Auto-Trim Applied';
                    showStatus("AI has found the best clip moments!", "success");
                    
                    setTimeout(() => {
                        btn.innerHTML = '<i class="fas fa-robot"></i> AI Auto-Trim';
                        btn.disabled = false;
                    }, 3000);
                }, 2000);
            });
            
            // AI Enhance
            elements.enhanceBtn.addEventListener('click', function() {
                if (!currentVideo.file) {
                    showStatus("Please upload a video first", "error");
                    return;
                }
                
                const btn = this;
                btn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Enhancing...';
                btn.disabled = true;
                
                // Simulate AI processing
                setTimeout(() => {
                    // Set enhancement values
                    elements.brightnessSlider.value = 120;
                    elements.contrastSlider.value = 110;
                    elements.volumeSlider.value = 120;
                    
                    // Update UI
                    elements.brightnessValue.textContent = "120%";
                    elements.contrastValue.textContent = "110%";
                    elements.volumeValue.textContent = "120%";
                    
                    // Apply to video
                    updateVideoFilters();
                    elements.videoPreview.volume = 1.2;
                    
                    btn.innerHTML = '<i class="fas fa-wand-magic-sparkles"></i> Enhanced!';
                    showStatus("AI has enhanced your video quality!", "success");
                    
                    setTimeout(() => {
                        btn.innerHTML = '<i class="fas fa-wand-magic-sparkles"></i> AI Enhance';
                        btn.disabled = false;
                    }, 3000);
                }, 2500);
            });
            
            // Export functionality
            elements.exportBtn.addEventListener('click', async function() {
                if (!currentVideo.file) {
                    showStatus("Please upload a video first", "error");
                    return;
                }
                
                // Check if user has free clips or has paid
                if (clipUsage.freeClipsUsed >= 25 && clipUsage.totalSpent === 0) {
                    showPaymentModal();
                    return;
                }
                
                if (!isFFmpegLoaded) {
                    showStatus("Initializing video engine...", "processing");
                    await loadFFmpeg();
                }
                
                try {
                    showStatus("Processing your video clip...", "processing");
                    simulateProgress(0);
                    
                    // Get the video file
                    const data = await fetchFile(currentVideo.file);
                    
                    // Write the file to FFmpeg
                    ffmpeg.FS('writeFile', 'input.mp4', data);
                    
                    // Run FFmpeg command to trim video
                    await ffmpeg.run(
                        '-i', 'input.mp4',
                        '-ss', currentVideo.startTime.toString(),
                        '-to', currentVideo.endTime.toString(),
                        '-c', 'copy',
                        'output.mp4'
                    );
                    
                    // Read the result
                    const outputData = ffmpeg.FS('readFile', 'output.mp4');
                    
                    // Create a download link
                    const outputUrl = URL.createObjectURL(new Blob([outputData.buffer], { type: 'video/mp4' }));
                    const a = document.createElement('a');
                    a.href = outputUrl;
                    a.download = `${currentVideo.name}-clipped.mp4`;
                    document.body.appendChild(a);
                    a.click();
                    document.body.removeChild(a);
                    
                    // Record the export
                    recordClipExport();
                    
                    // Show success message
                    showStatus("Video clipped successfully! Download started.", "success");
                } catch (error) {
                    console.error(error);
                    showStatus("Error processing video: " + error.message, "error");
                }
            });
            
            // Simulate progress for demo purposes
            function simulateProgress(start = 0) {
                let progress = start;
                const interval = setInterval(() => {
                    progress += 2;
                    elements.progressFill.style.width = `${progress}%`;
                    elements.progressText.textContent = `${progress}%`;
                    
                    if (progress >= 100) {
                        clearInterval(interval);
                    }
                }, 100);
            }
            
            function showStatus(message, type) {
                elements.statusText.textContent = message;
                elements.statusIndicator.className = "status-indicator " + type;
                elements.statusIndicator.style.display = 'flex';
                
                if (type === "success") {
                    setTimeout(() => {
                        elements.statusIndicator.style.display = 'none';
                        elements.progressFill.style.width = '0%';
                        elements.progressText.textContent = '0%';
                    }, 5000);
                }
            }
            
            // Final export button
            elements.finalExportBtn.addEventListener('click', function() {
                if (!currentVideo.file) {
                    showStatus("Please upload a video first", "error");
                    return;
                }
                
                // Check if user has free clips or has paid
                if (clipUsage.freeClipsUsed >= 25 && clipUsage.totalSpent === 0) {
                    showPaymentModal();
                    return;
                }
                
                showStatus("Preparing your final clip with all enhancements...", "processing");
                simulateProgress(0);
                
                setTimeout(() => {
                    showStatus("Your video is ready! Check your downloads.", "success");
                    
                    // Create a fake download
                    const a = document.createElement('a');
                    a.href = "#";
                    a.download = `${currentVideo.name}-final.mp4`;
                    a.click();
                    
                    // Record the export
                    recordClipExport();
                }, 4000);
            });
            
            // Transition buttons
            document.querySelectorAll('.transition-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    document.querySelectorAll('.transition-btn').forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                });
            });
            
            // Initialize usage tracking and payment system
            loadUsageData();
            initPaymentOptions();
            
            // Plan upgrade buttons
            elements.proPlanBtn.addEventListener('click', () => {
                showPaymentModal('pro');
            });
            
            elements.businessPlanBtn.addEventListener('click', () => {
                showPaymentModal('business');
            });
            
            // Affiliate program
            elements.affiliateSignup.addEventListener('click', () => {
                showStatus("Redirecting to affiliate signup...", "processing");
                setTimeout(() => {
                    // In a real implementation, this would redirect to your affiliate signup page
                    window.location.href = "https://affiliate.clipmasterpro.com/signup?ref=webapp";
                }, 1500);
            });
        });
    </script>
</body>
</html>